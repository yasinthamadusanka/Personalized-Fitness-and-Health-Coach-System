<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home Page</title>
    <link rel="stylesheet" href="css/home.css">
</head>
<body>
    <div class="banner" >
        <div class="navbar" id="home">
            <img src="images/logo.png" class="logo">
            <ul>
                <li><a href="#home">Home</a></li>
                <li><a href="#fitness-plan">Fitness Plan</a></li>
                <li><a href="#nutrition-plan">Nutrition Plan</a></li>
                <li><a href="#payment">Payment</a></li>
                <li><a href="#contact-us">Contact Us</a></li>
                <li><a href="#" id="loginLink">Login</a></li>
                <li><a href="#" id="registerLink">Register</a></li>
                <li><button id="logoutButton">Logout</button></li>
            </ul>
        </div>
        <div class="content">
            <h1>Welcome to Your Personalized Fitness Journey</h1>
            <p>Track your goals, height, weight, and more to achieve your health and fitness objectives.</p>
            <div>
                <button type="button"><span></span><a href="#fitness-plan">Fitness Plan</a></button>
                <button type="button"><span></span><a href="#nutrition-plan">Nutrition Plan</a></button>
            </div>
        </div>
    </div>
        
    <section id="fitness-plan">
        <h2>Fitness Plan</h2>
        <p>Discover custom workout plans tailored to your needs. Whether you're looking to build strength, improve endurance, lose weight, or enhance flexibility,<br>we offer a variety of personalized fitness plans that align with your goals.</p>
        <div class="home">
                <form id="registerForm">
                    <h4>Create Your Personalized Fitness Plan</h4>
                    <input type="text" id="name" placeholder="Your name" required />
                    <input type="number" id="height" placeholder="Height (cm)" required />
                    <input type="number" id="weight" placeholder="Weight (kg)" required />
                    <label for="goal">Health Goal:</label>
                    <select id="goal" name="goal" required>
                        <option value="lose">Lose Weight</option>
                        <option value="gain">Gain Muscle</option>
                        <option value="maintain">Maintain Weight</option>
                    </select>
                    <button type="submit">Genarate Plan</button>
                </form>
                <div id="image-container">
                    <img src="images/fitness-image.jpg" alt="Placeholder Image" id="fitnessImage" />
                </div>
            </div>
    </section>

    <section id="nutrition-plan">
        <h2>Nutrition Plan</h2>
        <p>Get personalized meal plans that fit your lifestyle. We consider your dietary preferences, restrictions, and activity level to create a balanced and sustainable eating plan.<br/>With delicious recipes, portion control tips, and expert guidance, you’ll feel energized, satisfied.</p>
        <div class="home2">
                <form id="registerForm2">
                    <h4>Create Your Personalized Nutrition Plan</h4>
                    <input type="text" id="name2" placeholder="Your name" required />
                    <input type="number" id="height2" placeholder="Height (cm)" required />
                    <input type="number" id="weight2" placeholder="Weight (kg)" required />
                    <label for="goal">Health Goal:</label>
                    <select id="goal2" name="goal" required>
                        <option value="lose">Lose Weight</option>
                        <option value="gain">Gain Muscle</option>
                        <option value="maintain">Maintain Weight</option>
                    </select>
                    <button type="submit">Genarate Plan</button>
                </form>
                <div id="image-container2">
                    <img src="images/nutrition-plan3.png" alt="Placeholder Image" id="nutritionImage" />
                </div>
            </div>
    </section>

    <section id="team" class="team-section">
        <h1>Meet Our Trainers</h1>
        <div class="team-container">
            <div class="team-member">
                <img src="images/trainer1.png" alt="Trainer 1">
                <h3>John Doe</h3>
                <p>Certified Personal Trainer with over 10 years of experience in helping clients.</p>
                <ul class="social_icon">
                    <li><a href="#"><ion-icon name="logo-facebook"></ion-icon></a></li>
                    <li><a href="#"><ion-icon name="logo-instagram"></ion-icon></a></li>
                    <li><a href="#"><ion-icon name="logo-linkedin"></ion-icon></a></li>
                    <li><a href="#"><ion-icon name="logo-twitter"></ion-icon></a></li>
                </ul>
            </div>
            <div class="team-member">
                <img src="images/trainer2.png" alt="Trainer 2">
                <h3>Jane Smith</h3>
                <p>Nutrition Expert specializing in personalized meal plans and healthy lifestyle.</p>
                <ul class="social_icon">
                    <li><a href="#"><ion-icon name="logo-facebook"></ion-icon></a></li>
                    <li><a href="#"><ion-icon name="logo-instagram"></ion-icon></a></li>
                    <li><a href="#"><ion-icon name="logo-linkedin"></ion-icon></a></li>
                    <li><a href="#"><ion-icon name="logo-twitter"></ion-icon></a></li>
                </ul>
            </div>
            <div class="team-member">
                <img src="images/trainer3.png" alt="Trainer 3">
                <h3>Mark Lee</h3>
                <p>Yoga Instructor with expertise in improving flexibility, strength, and mental clarity.</p>
                <ul class="social_icon">
                    <li><a href="#"><ion-icon name="logo-facebook"></ion-icon></a></li>
                    <li><a href="#"><ion-icon name="logo-instagram"></ion-icon></a></li>
                    <li><a href="#"><ion-icon name="logo-linkedin"></ion-icon></a></li>
                    <li><a href="#"><ion-icon name="logo-twitter"></ion-icon></a></li>
                </ul>
            </div>
            <div class="team-member">
                <img src="images/trainer4.png" alt="Trainer 4">
                <h3>Susan Brown</h3>
                <p>Strength Coach dedicated to helping clients build muscle and improve endurance.</p>
                <ul class="social_icon">
                    <li><a href="#"><ion-icon name="logo-facebook"></ion-icon></a></li>
                    <li><a href="#"><ion-icon name="logo-instagram"></ion-icon></a></li>
                    <li><a href="#"><ion-icon name="logo-linkedin"></ion-icon></a></li>
                    <li><a href="#"><ion-icon name="logo-twitter"></ion-icon></a></li>
                </ul>
            </div>
        </div>
    </section>
    
    <section id="payment">
        <h1>Reserve Your Own Plan</h1>
        <p>Choose a plan that suits your fitness journey. Manage your subscriptions easily and start achieving your goals today!</p>
    
        <div class="payment-plans">
            <div class="plan-card" data-plan="basic">
                <img src="images/basic.png" alt="Basic Plan" class="plan-image">
                <h2>Basic Plan</h2>
                <p>$10/month</p>
                <ul>
                    <li><ion-icon name="checkmark-circle"></ion-icon> Access to workout plans</li>
                    <li><ion-icon name="checkmark-circle"></ion-icon> Basic meal suggestions</li>
                    <li><ion-icon name="checkmark-circle"></ion-icon> Community support</li>
                </ul>
                <button class="subscribe-button">Choose Basic</button>
            </div>
    
            <div class="plan-card" data-plan="premium">
                <img src="images/premium.png" alt="Premium Plan" class="plan-image">
                <h2>Premium Plan</h2>
                <p>$25/month</p>
                <ul>
                    <li><ion-icon name="checkmark-circle"></ion-icon> Personalized workout plans</li>
                    <li><ion-icon name="checkmark-circle"></ion-icon> Customized meal plans</li>
                    <li><ion-icon name="checkmark-circle"></ion-icon> One-on-one coaching</li>
                </ul>
                <button class="subscribe-button">Choose Premium</button>
            </div>
    
            <div class="plan-card" data-plan="elite">
                <img src="images/elite.png" alt="Elite Plan" class="plan-image">
                <h2>Elite Plan</h2>
                <p>$50/month</p>
                <ul>
                    <li><ion-icon name="checkmark-circle"></ion-icon> All Premium features</li>
                    <li><ion-icon name="checkmark-circle"></ion-icon> Priority support</li>
                    <li><ion-icon name="checkmark-circle"></ion-icon> Exclusive events</li>
                </ul>
                <button class="subscribe-button">Choose Elite</button>
            </div>
        </div>
    
        <div id="paypal-button-container"></div>
    </section>

    <section id="contact-us">
        <div class="contact-content">
            <h2>Contact Us</h2>
            <p>Reach out to us with any questions or concerns. Our team is here to help, and we aim to respond within 24 hours. Please fill out the form below, and we’ll get back to you as soon as possible.</p>
        </div>
        <div class="container">
            <div class="contactInfo">
                <div class="box">
                    <div class="icon"><b></b><ion-icon name="location-sharp"></ion-icon></div>
                    <div class="text">
                        <h3>Address</h3>
                        <p>Persionalized Fitness and Health,<br>First street,
                        colombo,<br>Sri Lanka</p>
                    </div>
                </div>
                <div class="box">
                    <div class="icon"><b></b><ion-icon name="call"></ion-icon></div>
                    <div class="text">
                        <h3>Phone</h3>
                        <p>011-222-3344</p>
                    </div>
                </div>
                <div class="box">
                    <div class="icon"><b></b><ion-icon name="mail"></ion-icon></div>
                    <div class="text">
                        <h3>Email</h3>
                        <p>fitnessAndHealth@gmail.com</p>
                    </div>
                </div>
            </div>
            <div class="contactForm">
                <form id="contactForm">
                    <h2>Send Message</h2>
                    <div class="inputBox">
                        <input type="text" name="name" id="name" required="required">
                        <span>Full Name</span>
                    </div>
                    <div class="inputBox">
                        <input type="text" name="email" id="email" required="required">
                        <span>Email</span>
                    </div>
                    <div class="inputBox">
                        <textarea required="required" name="message" id="message"></textarea>
                        <span>Type your message here...</span>
                    </div>
                    <div class="inputBox">
                        <input type="submit" value="Send" id="submit">
                    </div>
                </form>
            </div>
        </div>
    </section>
    <footer>
        <ul class="social_icon">
            <li><a href="#"><ion-icon name="logo-facebook"></ion-icon></a></li>
            <li><a href="#"><ion-icon name="logo-instagram"></ion-icon></a></li>
            <li><a href="#"><ion-icon name="logo-linkedin"></ion-icon></a></li>
            <li><a href="#"><ion-icon name="logo-twitter"></ion-icon></a></li>
        </ul>
        <ul class="menu">
            <li><a href="#">Home</a></li>
            <li><a href="#">Reviews</a></li>
            <li><a href="#">Contact</a></li>
            <li><a href="#">Team</a></li>
            <li><a href="#">Payment</a></li>
        </ul>
        <p>@2024 Persionalized Fitness and Health Coach System | All Rights Reserved</p>
    </footer>
</body>

<script src="https://www.paypal.com/sdk/js?client-id=AZpkqBfMStMqDqzhi3GKuwd1GwcYgzDzH-K5M-ZmqwJXkfdjsC42JaqPAVUFHowPOIniqHYXqnzc89B8&currency=USD"></script>
<script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>

<script>
    const planPrices = {
        basic: 10,
        premium: 25,
        elite: 50
    };

    let selectedPlan = null;

    document.querySelectorAll('.plan-card').forEach(card => {
        card.addEventListener('click', function () {
            document.querySelectorAll('.plan-card').forEach(c => c.classList.remove('selected'));
            
            this.classList.add('selected');
            
            selectedPlan = this.getAttribute('data-plan');
            
            updatePaypalButton();
        });
    });

    function updatePaypalButton() {
        if (!selectedPlan) return;

        document.getElementById('paypal-button-container').innerHTML = '';

        paypal.Buttons({
            createOrder: function (data, actions) {
                return actions.order.create({
                    purchase_units: [{
                        amount: {
                            value: planPrices[selectedPlan].toString()
                        }
                    }]
                });
            },
            onApprove: function (data, actions) {
                return actions.order.capture().then(function (details) {
                    alert('Payment successful for ' + selectedPlan + ' plan!');
                });
            }
        }).render('#paypal-button-container');
    }

    document.getElementById('logoutButton').addEventListener('click', function() {
        localStorage.clear();
        window.location.href = '/logout';  
    });

    document.getElementById('loginLink').addEventListener('click', function() {
    window.location.href = 'index.html';  
    });

    document.getElementById('registerLink').addEventListener('click', function() {
        window.location.href = 'register.html';  
    });

    document.getElementById('contactForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            const formData = {
                name: document.getElementById('name').value,
                email: document.getElementById('email').value,
                message: document.getElementById('message').value
            };

            const response = await fetch('/submit-form', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(formData)
            });

            if (response.ok) {
                alert('Form submitted successfully!');
                document.getElementById('contactForm').reset();
            } else {
                alert('Failed to submit the form. Please try again.');
            }
        });

        document.getElementById('registerForm').addEventListener('submit', function (e) {
        e.preventDefault();

        const name = document.getElementById('name').value;
        const height = document.getElementById('height').value;
        const weight = document.getElementById('weight').value;
        const goal = document.getElementById('goal').value;

        const userData = {
            name: name,
            height: height,
            weight: weight,
            goal: goal
        };

        fetch('/generate-plan', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(userData)
        })
        .then(response => response.json())
        .then(data => {
            const imageContainer = document.getElementById('image-container');
            const fitnessImage = document.getElementById('fitnessImage');

            setTimeout(() => {
            const formattedPlan = data.plan.replace(/\?/g, '').replace(/,/g, '<br>');

                imageContainer.innerHTML = `
                    <div id="fitnessResult" class="visible">
                        <h3>Your Personalized Plan:</h3>
                        ${formattedPlan}
                    </div>
                `;
            }, 500); 
        })
        .catch(error => {
            console.error('Error:', error);
        });
    });

    document.getElementById('registerForm2').addEventListener('submit', function (e) {
        e.preventDefault();

        const name = document.getElementById('name2').value;
        const height = document.getElementById('height2').value;
        const weight = document.getElementById('weight2').value;
        const goal = document.getElementById('goal2').value;

        const userData = {
            name: name,
            height: height,
            weight: weight,
            goal: goal
        };

        fetch('/generate-plan2', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(userData)
        })
        .then(response => response.json())
        .then(data => {
            const imageContainer2 = document.getElementById('image-container2');
            const nutritionImage = document.getElementById('nutritionImage');

            setTimeout(() => {
            const formattedPlan = data.plan.replace(/\?/g, '').replace(/,/g, '<br>');

                imageContainer2.innerHTML = `
                    <div id="nutritionResult" class="visible">
                        <h3>Your Personalized Plan:</h3>
                        ${formattedPlan}
                    </div>
                `;
            }, 500);
        })
        .catch(error => {
            console.error('Error:', error);
        });
    });
</script>
</html>
